<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŸ¥è¯†åº“è¯¦æƒ… - Dify</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: #f5f7fa;
            color: #1f2937;
            line-height: 1.6;
        }
        
        .header {
            background: #fff;
            border-bottom: 1px solid #e5e7eb;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .back-btn {
            padding: 8px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 18px;
        }
        
        .header h1 {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
        }
        
        .header-actions {
            display: flex;
            gap: 12px;
        }
        
        .btn {
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .btn-primary {
            background: #3b82f6;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2563eb;
        }
        
        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
        }
        
        .container {
            max-width: 1400px;
            margin: 24px auto;
            padding: 0 24px;
        }
        
        .kb-info-card {
            background: white;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .kb-info-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }
        
        .kb-info-left {
            flex: 1;
        }
        
        .kb-title-large {
            font-size: 24px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 8px;
        }
        
        .kb-description {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 16px;
        }
        
        .kb-stats-row {
            display: flex;
            gap: 32px;
            flex-wrap: wrap;
        }
        
        .stat-box {
            display: flex;
            flex-direction: column;
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: 600;
            color: #111827;
        }
        
        .stat-label {
            font-size: 13px;
            color: #6b7280;
            margin-top: 4px;
        }
        
        .tabs {
            display: flex;
            gap: 8px;
            border-bottom: 2px solid #e5e7eb;
            margin-bottom: 24px;
        }
        
        .tab {
            padding: 12px 20px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: #6b7280;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
        }
        
        .tab.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .documents-table {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .table-header {
            background: #f9fafb;
            padding: 12px 16px;
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 120px;
            gap: 16px;
            font-size: 13px;
            font-weight: 600;
            color: #374151;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .table-row {
            padding: 16px;
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 120px;
            gap: 16px;
            border-bottom: 1px solid #f3f4f6;
            align-items: center;
        }
        
        .table-row:hover {
            background: #f9fafb;
        }
        
        .doc-name {
            font-weight: 500;
            color: #111827;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .doc-icon {
            font-size: 18px;
        }
        
        .doc-size {
            font-size: 13px;
            color: #6b7280;
        }
        
        .doc-status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-success {
            background: #d1fae5;
            color: #065f46;
        }
        
        .status-processing {
            background: #fef3c7;
            color: #92400e;
        }
        
        .status-error {
            background: #fee2e2;
            color: #991b1b;
        }
        
        .doc-actions {
            display: flex;
            gap: 8px;
        }
        
        .btn-icon {
            padding: 6px;
            background: transparent;
            border: none;
            cursor: pointer;
            border-radius: 4px;
            color: #6b7280;
        }
        
        .btn-icon:hover {
            background: #f3f4f6;
            color: #111827;
        }
        
        .tech-section {
            background: white;
            border-radius: 8px;
            padding: 24px;
            margin-top: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .tech-section h2 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #111827;
        }
        
        .tech-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #f3f4f6;
        }
        
        .tech-item:last-child {
            border-bottom: none;
        }
        
        .tech-item h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #374151;
        }
        
        .tech-item p {
            font-size: 14px;
            color: #6b7280;
            line-height: 1.6;
        }
        
        .tech-item ul {
            margin-left: 20px;
            margin-top: 8px;
        }
        
        .tech-item li {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 4px;
        }
        
        .code-block {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 12px;
            margin-top: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: #374151;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-left">
            <button class="back-btn" onclick="location.href='index.html'">â†</button>
            <h1>äº§å“æ–‡æ¡£åº“</h1>
        </div>
        <div class="header-actions">
            <button class="btn btn-secondary" onclick="location.href='knowledge-base-test.html'">æµ‹è¯•æ£€ç´¢</button>
            <button class="btn btn-secondary" onclick="location.href='knowledge-base-settings.html'">è®¾ç½®</button>
            <button class="btn btn-primary" onclick="location.href='document-upload.html'">ä¸Šä¼ æ–‡æ¡£</button>
        </div>
    </div>
    
    <div class="container">
        <div class="kb-info-card">
            <div class="kb-info-header">
                <div class="kb-info-left">
                    <div class="kb-title-large">äº§å“æ–‡æ¡£åº“</div>
                    <div class="kb-description">åŒ…å«æ‰€æœ‰äº§å“ç›¸å…³çš„æ–‡æ¡£ã€APIæ–‡æ¡£ã€ç”¨æˆ·æ‰‹å†Œç­‰</div>
                    <div class="kb-stats-row">
                        <div class="stat-box">
                            <div class="stat-value">156</div>
                            <div class="stat-label">æ–‡æ¡£æ€»æ•°</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value">2.3M</div>
                            <div class="stat-label">æ€»å­—ç¬¦æ•°</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value">45K</div>
                            <div class="stat-label">å‘é‡æ•°é‡</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value">98.5%</div>
                            <div class="stat-label">ç´¢å¼•å®Œæˆåº¦</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value">2024-01-20</div>
                            <div class="stat-label">æœ€åæ›´æ–°</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="switchTab('documents')">æ–‡æ¡£ç®¡ç†</button>
            <button class="tab" onclick="switchTab('chunks')">æ–‡æ¡£åˆ†å—</button>
            <button class="tab" onclick="switchTab('usage')">ä½¿ç”¨ç»Ÿè®¡</button>
        </div>
        
        <div id="documents" class="tab-content active">
            <div class="documents-table">
                <div class="table-header">
                    <div>æ–‡æ¡£åç§°</div>
                    <div>å¤§å°</div>
                    <div>çŠ¶æ€</div>
                    <div>ä¸Šä¼ æ—¶é—´</div>
                    <div>æ“ä½œ</div>
                </div>
                <div class="table-row">
                    <div class="doc-name">
                        <span class="doc-icon">ğŸ“„</span>
                        <div>
                            <div>äº§å“ä½¿ç”¨æ‰‹å†Œ.pdf</div>
                            <div class="doc-size">2.5 MB</div>
                        </div>
                    </div>
                    <div>2.5 MB</div>
                    <div><span class="doc-status status-success">å·²å®Œæˆ</span></div>
                    <div>2024-01-20 10:30</div>
                    <div class="doc-actions">
                        <button class="btn-icon" title="é¢„è§ˆ">ğŸ‘ï¸</button>
                        <button class="btn-icon" title="ä¸‹è½½">â¬‡ï¸</button>
                        <button class="btn-icon" title="åˆ é™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
                <div class="table-row">
                    <div class="doc-name">
                        <span class="doc-icon">ğŸ“„</span>
                        <div>
                            <div>APIæ¥å£æ–‡æ¡£.docx</div>
                            <div class="doc-size">1.8 MB</div>
                        </div>
                    </div>
                    <div>1.8 MB</div>
                    <div><span class="doc-status status-success">å·²å®Œæˆ</span></div>
                    <div>2024-01-19 15:20</div>
                    <div class="doc-actions">
                        <button class="btn-icon" title="é¢„è§ˆ">ğŸ‘ï¸</button>
                        <button class="btn-icon" title="ä¸‹è½½">â¬‡ï¸</button>
                        <button class="btn-icon" title="åˆ é™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
                <div class="table-row">
                    <div class="doc-name">
                        <span class="doc-icon">ğŸ“„</span>
                        <div>
                            <div>ç”¨æˆ·æŒ‡å—.md</div>
                            <div class="doc-size">856 KB</div>
                        </div>
                    </div>
                    <div>856 KB</div>
                    <div><span class="doc-status status-processing">ç´¢å¼•ä¸­</span></div>
                    <div>2024-01-20 14:15</div>
                    <div class="doc-actions">
                        <button class="btn-icon" title="é¢„è§ˆ">ğŸ‘ï¸</button>
                        <button class="btn-icon" title="ä¸‹è½½">â¬‡ï¸</button>
                        <button class="btn-icon" title="åˆ é™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
                <div class="table-row">
                    <div class="doc-name">
                        <span class="doc-icon">ğŸŒ</span>
                        <div>
                            <div>https://docs.example.com/api</div>
                            <div class="doc-size">ç½‘é¡µæŠ“å–</div>
                        </div>
                    </div>
                    <div>-</div>
                    <div><span class="doc-status status-success">å·²å®Œæˆ</span></div>
                    <div>2024-01-18 09:00</div>
                    <div class="doc-actions">
                        <button class="btn-icon" title="é¢„è§ˆ">ğŸ‘ï¸</button>
                        <button class="btn-icon" title="åˆ·æ–°">ğŸ”„</button>
                        <button class="btn-icon" title="åˆ é™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="chunks" class="tab-content">
            <div class="documents-table">
                <div class="table-header">
                    <div>åˆ†å—å†…å®¹é¢„è§ˆ</div>
                    <div>æ‰€å±æ–‡æ¡£</div>
                    <div>å­—ç¬¦æ•°</div>
                    <div>å‘é‡ç»´åº¦</div>
                    <div>æ“ä½œ</div>
                </div>
                <div class="table-row">
                    <div>äº§å“æ¦‚è¿°ï¼šæˆ‘ä»¬çš„äº§å“æ˜¯ä¸€ä¸ªå¼ºå¤§çš„AIåŠ©æ‰‹å¹³å°ï¼Œæä¾›...</div>
                    <div>äº§å“ä½¿ç”¨æ‰‹å†Œ.pdf</div>
                    <div>512</div>
                    <div>1536</div>
                    <div class="doc-actions">
                        <button class="btn-icon" title="æŸ¥çœ‹">ğŸ‘ï¸</button>
                    </div>
                </div>
                <div class="table-row">
                    <div>APIè®¤è¯ï¼šæ‰€æœ‰APIè¯·æ±‚éƒ½éœ€è¦åœ¨Headerä¸­åŒ…å«Authorization...</div>
                    <div>APIæ¥å£æ–‡æ¡£.docx</div>
                    <div>498</div>
                    <div>1536</div>
                    <div class="doc-actions">
                        <button class="btn-icon" title="æŸ¥çœ‹">ğŸ‘ï¸</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="usage" class="tab-content">
            <div class="kb-info-card">
                <h3 style="margin-bottom: 16px;">ä½¿ç”¨ç»Ÿè®¡</h3>
                <div class="kb-stats-row">
                    <div class="stat-box">
                        <div class="stat-value">1,234</div>
                        <div class="stat-label">æ€»æ£€ç´¢æ¬¡æ•°</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">856</div>
                        <div class="stat-label">æœ¬æœˆæ£€ç´¢</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">2.3s</div>
                        <div class="stat-label">å¹³å‡å“åº”æ—¶é—´</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">95.2%</div>
                        <div class="stat-label">æ£€ç´¢å‡†ç¡®ç‡</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tech-section">
            <h2>ğŸ“‹ åŠŸèƒ½è¯´æ˜ä¸æŠ€æœ¯å®ç°</h2>
            
            <div class="tech-item">
                <h3>1. çŸ¥è¯†åº“è¯¦æƒ…å±•ç¤º</h3>
                <p><strong>åŠŸèƒ½æè¿°ï¼š</strong>å±•ç¤ºçŸ¥è¯†åº“çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç»Ÿè®¡ä¿¡æ¯ã€æ–‡æ¡£åˆ—è¡¨ã€åˆ†å—ä¿¡æ¯ç­‰ã€‚</p>
                <p><strong>å‰ç«¯å®ç°ï¼š</strong></p>
                <ul>
                    <li>Tab åˆ‡æ¢ç»„ä»¶å±•ç¤ºä¸åŒè§†å›¾ï¼ˆæ–‡æ¡£ã€åˆ†å—ã€ç»Ÿè®¡ï¼‰</li>
                    <li>è¡¨æ ¼ç»„ä»¶å±•ç¤ºæ–‡æ¡£åˆ—è¡¨ï¼Œæ”¯æŒæ’åºã€ç­›é€‰</li>
                    <li>å®æ—¶æ›´æ–°æ–‡æ¡£ç´¢å¼•çŠ¶æ€ï¼ˆWebSocketï¼‰</li>
                    <li>è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–å¤§é‡æ–‡æ¡£å±•ç¤º</li>
                </ul>
                <p><strong>åç«¯å®ç°ï¼š</strong></p>
                <ul>
                    <li>GET /api/v1/knowledge-bases/{id} - è·å–çŸ¥è¯†åº“è¯¦æƒ…</li>
                    <li>GET /api/v1/knowledge-bases/{id}/documents - è·å–æ–‡æ¡£åˆ—è¡¨</li>
                    <li>GET /api/v1/knowledge-bases/{id}/chunks - è·å–åˆ†å—åˆ—è¡¨</li>
                    <li>èšåˆæŸ¥è¯¢ç»Ÿè®¡ä¿¡æ¯ï¼ˆæ–‡æ¡£æ•°ã€å­—ç¬¦æ•°ã€å‘é‡æ•°ï¼‰</li>
                    <li>ä½¿ç”¨ JOIN æŸ¥è¯¢ä¼˜åŒ–æ€§èƒ½</li>
                </ul>
            </div>
            
            <div class="tech-item">
                <h3>2. æ–‡æ¡£ç®¡ç†</h3>
                <p><strong>åŠŸèƒ½æè¿°ï¼š</strong>ç®¡ç†çŸ¥è¯†åº“ä¸­çš„æ–‡æ¡£ï¼ŒåŒ…æ‹¬æŸ¥çœ‹ã€ä¸‹è½½ã€åˆ é™¤ç­‰æ“ä½œã€‚</p>
                <p><strong>å‰ç«¯å®ç°ï¼š</strong></p>
                <ul>
                    <li>æ–‡æ¡£é¢„è§ˆç»„ä»¶ï¼ˆPDF.jsã€Markdownæ¸²æŸ“å™¨ç­‰ï¼‰</li>
                    <li>æ–‡ä»¶ä¸‹è½½åŠŸèƒ½ï¼ˆBlob URLï¼‰</li>
                    <li>ç¡®è®¤å¯¹è¯æ¡†é˜²æ­¢è¯¯åˆ é™¤</li>
                    <li>æ‰¹é‡æ“ä½œæ”¯æŒï¼ˆå¤šé€‰ã€æ‰¹é‡åˆ é™¤ï¼‰</li>
                </ul>
                <p><strong>åç«¯å®ç°ï¼š</strong></p>
                <ul>
                    <li>DELETE /api/v1/documents/{id} - åˆ é™¤æ–‡æ¡£</li>
                    <li>GET /api/v1/documents/{id}/download - ä¸‹è½½æ–‡æ¡£</li>
                    <li>GET /api/v1/documents/{id}/preview - é¢„è§ˆæ–‡æ¡£</li>
                    <li>çº§è”åˆ é™¤å…³è”çš„å‘é‡æ•°æ®</li>
                    <li>æ–‡ä»¶å­˜å‚¨æœåŠ¡ï¼ˆS3/OSSï¼‰ç®¡ç†æ–‡ä»¶</li>
                </ul>
            </div>
            
            <div class="tech-item">
                <h3>3. æ–‡æ¡£åˆ†å—å±•ç¤º</h3>
                <p><strong>åŠŸèƒ½æè¿°ï¼š</strong>å±•ç¤ºæ–‡æ¡£çš„åˆ†å—ä¿¡æ¯ï¼ŒåŒ…æ‹¬åˆ†å—å†…å®¹ã€å‘é‡ç»´åº¦ç­‰ã€‚</p>
                <p><strong>å‰ç«¯å®ç°ï¼š</strong></p>
                <ul>
                    <li>åˆ†å—åˆ—è¡¨å±•ç¤ºï¼Œæ”¯æŒæœç´¢å’Œç­›é€‰</li>
                    <li>åˆ†å—å†…å®¹é¢„è§ˆï¼ˆæˆªæ–­æ˜¾ç¤ºï¼‰</li>
                    <li>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´åˆ†å—å†…å®¹</li>
                </ul>
                <p><strong>åç«¯å®ç°ï¼š</strong></p>
                <ul>
                    <li>GET /api/v1/documents/{id}/chunks - è·å–æ–‡æ¡£åˆ†å—</li>
                    <li>æ”¯æŒåˆ†é¡µæŸ¥è¯¢</li>
                    <li>è¿”å›åˆ†å—å…ƒæ•°æ®ï¼ˆå­—ç¬¦æ•°ã€å‘é‡ç»´åº¦ã€ä½ç½®ä¿¡æ¯ï¼‰</li>
                </ul>
            </div>
            
            <div class="tech-item">
                <h3>4. ä½¿ç”¨ç»Ÿè®¡</h3>
                <p><strong>åŠŸèƒ½æè¿°ï¼š</strong>å±•ç¤ºçŸ¥è¯†åº“çš„ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬æ£€ç´¢æ¬¡æ•°ã€å“åº”æ—¶é—´ã€å‡†ç¡®ç‡ç­‰ã€‚</p>
                <p><strong>å‰ç«¯å®ç°ï¼š</strong></p>
                <ul>
                    <li>å›¾è¡¨ç»„ä»¶å±•ç¤ºç»Ÿè®¡æ•°æ®ï¼ˆChart.js/EChartsï¼‰</li>
                    <li>æ—¶é—´èŒƒå›´é€‰æ‹©å™¨</li>
                    <li>æ•°æ®å¯¼å‡ºåŠŸèƒ½</li>
                </ul>
                <p><strong>åç«¯å®ç°ï¼š</strong></p>
                <ul>
                    <li>GET /api/v1/knowledge-bases/{id}/statistics - è·å–ç»Ÿè®¡æ•°æ®</li>
                    <li>æ—¶é—´åºåˆ—æ•°æ®åº“å­˜å‚¨æ£€ç´¢æ—¥å¿—ï¼ˆInfluxDB/TimescaleDBï¼‰</li>
                    <li>èšåˆæŸ¥è¯¢è®¡ç®—ç»Ÿè®¡æŒ‡æ ‡</li>
                </ul>
            </div>
        </div>
    </div>
    
    <script>
        function switchTab(tabName) {
            // éšè—æ‰€æœ‰tabå†…å®¹
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            // ç§»é™¤æ‰€æœ‰tabçš„activeçŠ¶æ€
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            // æ˜¾ç¤ºé€‰ä¸­çš„tabå†…å®¹
            document.getElementById(tabName).classList.add('active');
            // è®¾ç½®é€‰ä¸­çš„tabä¸ºactive
            event.target.classList.add('active');
        }
    </script>
</body>
</html>

